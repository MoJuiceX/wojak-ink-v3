/* ============================================================
   WOJAK.INK DESIGN SYSTEM v2.0
   Tang Gang Cyberpunk Orange Theme
   ============================================================ */

/* ============================================================
   DESIGN TOKENS - DARK THEME (Default)
   ============================================================ */
:root,
.theme-dark {
  /* ---------- BACKGROUND COLORS ---------- */
  --color-bg-primary: #0a0a0f;
  --color-bg-secondary: #101018;
  --color-bg-elevated: #16161f;
  --color-bg-card: rgba(255, 255, 255, 0.03);
  --color-bg-glass: rgba(255, 255, 255, 0.05);
  --color-bg-input: rgba(255, 255, 255, 0.08);

  /* ---------- BRAND COLORS - ORANGE ---------- */
  --color-orange-300: #ffb366;
  --color-orange-400: #ff9933;
  --color-orange-500: #ff6b00;
  --color-orange-600: #e65c00;
  --color-orange-700: #cc5200;
  --color-orange-glow: rgba(255, 107, 0, 0.5);
  --color-orange-glow-soft: rgba(255, 107, 0, 0.25);
  --color-orange-glow-intense: rgba(255, 107, 0, 0.7);

  /* ---------- ACCENT COLORS ---------- */
  --color-cyan: #00d4ff;
  --color-cyan-glow: rgba(0, 212, 255, 0.4);
  --color-purple: #a855f7;
  --color-purple-glow: rgba(168, 85, 247, 0.4);
  --color-green: #22c55e;
  --color-red: #ef4444;

  /* ---------- TEXT COLORS ---------- */
  --color-text-primary: #ffffff;
  --color-text-secondary: rgba(255, 255, 255, 0.7);
  --color-text-muted: rgba(255, 255, 255, 0.4);
  --color-text-disabled: rgba(255, 255, 255, 0.2);

  /* ---------- BORDER COLORS ---------- */
  --color-border-subtle: rgba(255, 255, 255, 0.06);
  --color-border-default: rgba(255, 255, 255, 0.1);
  --color-border-strong: rgba(255, 255, 255, 0.2);
  --color-border-orange: rgba(255, 107, 0, 0.3);
  --color-border-orange-glow: rgba(255, 107, 0, 0.5);

  /* ---------- GRADIENTS ---------- */
  --gradient-bg: linear-gradient(180deg, #0a0a0f 0%, #050508 100%);
  --gradient-orange: linear-gradient(135deg, #ff6b00 0%, #ff9500 100%);
  --gradient-orange-dark: linear-gradient(135deg, #cc5200 0%, #ff6b00 100%);
  --gradient-glass: linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%);
  --gradient-card: linear-gradient(180deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);
  --gradient-glow: radial-gradient(ellipse at center, var(--color-orange-glow-soft) 0%, transparent 70%);

  /* ---------- SHADOWS & GLOWS ---------- */
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
  --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.6);
  --shadow-card: 0 8px 32px rgba(0, 0, 0, 0.4);
  --shadow-button: 0 4px 16px rgba(0, 0, 0, 0.3);

  --glow-orange-sm: 0 0 10px var(--color-orange-glow-soft);
  --glow-orange: 0 0 20px var(--color-orange-glow);
  --glow-orange-lg: 0 0 30px var(--color-orange-glow), 0 0 60px var(--color-orange-glow-soft);
  --glow-orange-intense: 0 0 20px var(--color-orange-glow-intense), 0 0 40px var(--color-orange-glow), 0 0 80px var(--color-orange-glow-soft);
  --glow-text: 0 0 10px var(--color-orange-glow);

  /* ---------- BLUR & EFFECTS ---------- */
  --blur-glass: blur(20px);
  --blur-glass-heavy: blur(40px);

  /* ---------- TYPOGRAPHY ---------- */
  --font-family: 'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-size-2xs: 10px;
  --font-size-xs: 12px;
  --font-size-sm: 14px;
  --font-size-md: 16px;
  --font-size-lg: 18px;
  --font-size-xl: 20px;
  --font-size-2xl: 24px;
  --font-size-3xl: 32px;
  --font-size-4xl: 40px;

  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  --line-height-tight: 1.2;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.75;

  /* ---------- SPACING ---------- */
  --space-2xs: 2px;
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 12px;
  --space-lg: 16px;
  --space-xl: 20px;
  --space-2xl: 24px;
  --space-3xl: 32px;
  --space-4xl: 40px;
  --space-5xl: 48px;

  /* ---------- BORDER RADIUS ---------- */
  --radius-xs: 4px;
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --radius-2xl: 24px;
  --radius-full: 9999px;

  /* ---------- TRANSITIONS ---------- */
  --transition-fast: 150ms ease;
  --transition-normal: 250ms ease;
  --transition-slow: 400ms ease;
  --transition-bounce: 400ms cubic-bezier(0.34, 1.56, 0.64, 1);

  /* ---------- Z-INDEX SCALE ---------- */
  --z-behind: -1;
  --z-base: 0;
  --z-dropdown: 10;
  --z-sticky: 20;
  --z-header: 30;
  --z-sidebar: 40;
  --z-overlay: 50;
  --z-modal: 60;
  --z-popover: 70;
  --z-toast: 80;
  --z-tooltip: 90;
  --z-max: 9999;

  /* ---------- GOLD ACCENT COLORS ---------- */
  --color-gold-400: #FACC15;
  --color-gold-500: #EAB308;
  --color-gold-600: #CA8A04;
  --color-gold-glow: rgba(234, 179, 8, 0.4);

  /* ---------- SEMANTIC STATUS COLORS ---------- */
  --color-success-400: #4ADE80;
  --color-success-500: #22C55E;
  --color-success-600: #16A34A;
  --color-error-400: #F87171;
  --color-error-500: #EF4444;
  --color-error-600: #DC2626;
  --color-warning-400: #FBBF24;
  --color-warning-500: #F59E0B;
  --color-info-400: #22D3EE;
  --color-info-500: #06B6D4;

  /* ---------- ADDITIONAL GLOWS ---------- */
  --glow-gold-sm: 0 0 10px rgba(234, 179, 8, 0.3);
  --glow-gold-md: 0 0 20px rgba(234, 179, 8, 0.4);
  --glow-gold-lg: 0 0 40px rgba(234, 179, 8, 0.5);
  --glow-success: 0 0 15px rgba(34, 197, 94, 0.4);
  --glow-error: 0 0 15px rgba(239, 68, 68, 0.4);

  /* ---------- ANIMATION DURATIONS ---------- */
  --duration-instant: 50ms;
  --duration-fast: 150ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;
  --duration-slower: 700ms;
  --duration-slowest: 1000ms;

  /* ---------- EASING FUNCTIONS ---------- */
  --ease-linear: linear;
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-snappy: cubic-bezier(0.2, 0, 0, 1);

  /* ---------- GLASSMORPHISM ---------- */
  --glass-bg-light: rgba(255, 255, 255, 0.05);
  --glass-bg-medium: rgba(255, 255, 255, 0.08);
  --glass-bg-dark: rgba(0, 0, 0, 0.4);
  --glass-bg-orange: rgba(249, 115, 22, 0.1);
  --blur-sm: 8px;
  --blur-md: 12px;
  --blur-lg: 20px;
  --blur-xl: 40px;

  /* ---------- GRADIENT PRESETS ---------- */
  --gradient-gold: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
  --gradient-gold-text: linear-gradient(90deg, #F97316, #FFD700, #F97316);
  --gradient-shimmer: linear-gradient(90deg, rgba(255, 255, 255, 0.03) 0%, rgba(255, 255, 255, 0.08) 50%, rgba(255, 255, 255, 0.03) 100%);
  --gradient-orange-soft: linear-gradient(135deg, rgba(249, 115, 22, 0.2) 0%, rgba(234, 88, 12, 0.1) 100%);

  /* ---------- CARD SHADOWS ---------- */
  --shadow-card-hover: 0 8px 30px rgba(0, 0, 0, 0.5), var(--glow-orange-sm);
  --shadow-modal: 0 25px 50px rgba(0, 0, 0, 0.6), var(--glow-orange);

  /* ========== IONIC OVERRIDES ========== */
  --ion-background-color: var(--color-bg-primary);
  --ion-background-color-rgb: 10, 10, 15;
  --ion-text-color: var(--color-text-primary);
  --ion-text-color-rgb: 255, 255, 255;

  --ion-color-primary: var(--color-orange-500);
  --ion-color-primary-rgb: 255, 107, 0;
  --ion-color-primary-contrast: #ffffff;
  --ion-color-primary-shade: var(--color-orange-600);
  --ion-color-primary-tint: var(--color-orange-400);

  --ion-color-medium: var(--color-text-secondary);
  --ion-color-light: var(--color-bg-glass);

  --ion-toolbar-background: transparent;
  --ion-toolbar-color: var(--color-text-primary);
  --ion-tab-bar-background: rgba(10, 10, 15, 0.85);
  --ion-tab-bar-color: var(--color-text-muted);
  --ion-tab-bar-color-selected: var(--color-orange-500);
  --ion-card-background: var(--color-bg-glass);

  /* App-specific tokens (legacy support) */
  --app-background: var(--gradient-bg);
  --app-card-background: var(--color-bg-glass);
  --app-card-border: var(--color-border-default);
  --app-section-background: var(--color-bg-card);
  --app-input-background: var(--color-bg-input);
  --app-accent-color: var(--color-orange-500);
  --app-button-background: var(--color-orange-500);
  --app-preview-background: rgba(255, 107, 0, 0.15);
  --app-button-selected: var(--color-orange-500);

  /* Generator trait card background - default dark uses orange gradient */
  --generator-trait-card-bg: linear-gradient(145deg, rgba(255, 107, 0, 0.15) 0%, rgba(255, 140, 0, 0.08) 50%, rgba(255, 107, 0, 0.05) 100%);
  --generator-trait-card-border: rgba(255, 107, 0, 0.2);
  --generator-trait-card-image-bg: #ff6b00;

  /* Heatmap tokens */
  --heatmap-card-bg: var(--color-bg-glass);
  --heatmap-card-shadow: var(--shadow-lg);
  --heatmap-card-border: var(--color-border-default);
  --heatmap-grid-bg: rgba(0, 0, 0, 0.3);
  --heatmap-divider: var(--color-border-subtle);
  --heatmap-text: var(--color-text-primary);
  --heatmap-text-muted: var(--color-text-secondary);
  --heatmap-cell-rgb: 255, 107, 0;
  --heatmap-cell-text: #ffffff;
  --heatmap-highlight-rgb: 255, 140, 0;
  --heatmap-highlight-ring: var(--color-orange-glow);
  --heatmap-btn-bg: var(--color-bg-input);
  --heatmap-btn-border: var(--color-border-default);
  --heatmap-btn-text: var(--color-text-secondary);
  --heatmap-btn-active-bg: var(--gradient-orange);
  --heatmap-btn-active-text: #ffffff;
  --heatmap-btn-active-shadow: var(--glow-orange);
  --heatmap-legend-bg: rgba(0, 0, 0, 0.3);
}

/* ============================================================
   LIGHT THEME
   ============================================================ */
.theme-light {
  --color-bg-primary: #f8f9fa;
  --color-bg-secondary: #ffffff;
  --color-bg-elevated: #ffffff;
  --color-bg-card: rgba(0, 0, 0, 0.02);
  --color-bg-glass: rgba(255, 255, 255, 0.8);
  --color-bg-input: rgba(0, 0, 0, 0.05);

  --color-text-primary: #1a1a1a;
  --color-text-secondary: rgba(0, 0, 0, 0.6);
  --color-text-muted: rgba(0, 0, 0, 0.4);

  --color-border-subtle: rgba(0, 0, 0, 0.04);
  --color-border-default: rgba(0, 0, 0, 0.08);
  --color-border-strong: rgba(0, 0, 0, 0.15);

  --gradient-bg: linear-gradient(180deg, #f8f9fa 0%, #ffffff 100%);
  --gradient-glass: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%);

  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.12);
  --shadow-card: 0 4px 24px rgba(0, 0, 0, 0.08);

  --ion-background-color: var(--color-bg-primary);
  --ion-background-color-rgb: 248, 249, 250;
  --ion-text-color: var(--color-text-primary);
  --ion-text-color-rgb: 26, 26, 26;

  --ion-toolbar-background: rgba(255, 255, 255, 0.8);
  --ion-tab-bar-background: rgba(255, 255, 255, 0.95);
  --ion-tab-bar-color: var(--color-text-muted);

  --app-preview-background: rgba(255, 107, 0, 0.1);

  /* Generator trait card background - light theme */
  --generator-trait-card-bg: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 249, 250, 0.9) 100%);
  --generator-trait-card-border: rgba(0, 0, 0, 0.1);
  --generator-trait-card-image-bg: linear-gradient(145deg, #f8f9fa 0%, #e9ecef 50%, #dee2e6 100%);

  --heatmap-card-bg: var(--color-bg-glass);
  --heatmap-grid-bg: rgba(0, 0, 0, 0.02);
  --heatmap-text: var(--color-text-primary);
  --heatmap-text-muted: var(--color-text-secondary);
}

/* ============================================================
   ORANGE THEME (Full Tang Mode)
   ============================================================ */
.theme-orange {
  --color-bg-primary: #1a0a00;
  --color-bg-secondary: #261000;
  --color-bg-elevated: #331500;
  --color-bg-card: rgba(255, 107, 0, 0.08);
  --color-bg-glass: rgba(255, 107, 0, 0.1);
  --color-bg-input: rgba(255, 107, 0, 0.15);

  --color-orange-glow: rgba(255, 107, 0, 0.6);
  --color-orange-glow-soft: rgba(255, 107, 0, 0.3);
  --color-orange-glow-intense: rgba(255, 140, 0, 0.8);

  --color-text-primary: #ffffff;
  --color-text-secondary: rgba(255, 200, 150, 0.8);
  --color-text-muted: rgba(255, 180, 120, 0.5);

  --color-border-subtle: rgba(255, 107, 0, 0.1);
  --color-border-default: rgba(255, 107, 0, 0.2);
  --color-border-strong: rgba(255, 107, 0, 0.35);
  --color-border-orange: rgba(255, 140, 0, 0.4);

  --gradient-bg: linear-gradient(180deg, #1a0a00 0%, #0d0500 100%);
  --gradient-glass: linear-gradient(135deg, rgba(255,107,0,0.12) 0%, rgba(255,107,0,0.04) 100%);
  --gradient-card: linear-gradient(180deg, rgba(255,107,0,0.1) 0%, rgba(255,107,0,0.03) 100%);

  --glow-orange: 0 0 25px var(--color-orange-glow);
  --glow-orange-lg: 0 0 40px var(--color-orange-glow), 0 0 80px var(--color-orange-glow-soft);

  --shadow-card: 0 8px 32px rgba(255, 80, 0, 0.2);

  --ion-background-color: var(--color-bg-primary);
  --ion-background-color-rgb: 26, 10, 0;
  --ion-tab-bar-background: rgba(26, 10, 0, 0.95);

  --app-preview-background: rgba(255, 107, 0, 0.2);

  /* Generator trait card background - orange theme (premium orange gradient) */
  --generator-trait-card-bg: linear-gradient(145deg, rgba(255, 140, 0, 0.25) 0%, rgba(255, 107, 0, 0.15) 50%, rgba(255, 80, 0, 0.1) 100%);
  --generator-trait-card-border: rgba(255, 140, 0, 0.35);
  --generator-trait-card-image-bg: linear-gradient(145deg, #5c2800 0%, #4a2000 50%, #3d1a00 100%);

  --heatmap-card-bg: rgba(255, 107, 0, 0.08);
  --heatmap-grid-bg: rgba(255, 107, 0, 0.05);
  --heatmap-card-shadow: 0 8px 32px rgba(255, 80, 0, 0.25);
}

/* ============================================================
   GREEN THEME (Chia Mode)
   ============================================================ */
.theme-green {
  --color-bg-primary: #001a0a;
  --color-bg-secondary: #002610;
  --color-bg-elevated: #003315;
  --color-bg-card: rgba(34, 197, 94, 0.08);
  --color-bg-glass: rgba(34, 197, 94, 0.1);
  --color-bg-input: rgba(34, 197, 94, 0.15);

  --color-orange-500: #22c55e;
  --color-orange-600: #16a34a;
  --color-orange-glow: rgba(34, 197, 94, 0.5);
  --color-orange-glow-soft: rgba(34, 197, 94, 0.25);

  --color-text-secondary: rgba(150, 255, 180, 0.8);
  --color-text-muted: rgba(120, 255, 160, 0.5);

  --color-border-subtle: rgba(34, 197, 94, 0.1);
  --color-border-default: rgba(34, 197, 94, 0.2);
  --color-border-strong: rgba(34, 197, 94, 0.35);

  --gradient-bg: linear-gradient(180deg, #001a0a 0%, #000d05 100%);
  --gradient-orange: linear-gradient(135deg, #22c55e 0%, #4ade80 100%);

  --ion-background-color: var(--color-bg-primary);
  --ion-background-color-rgb: 0, 26, 10;
  --ion-color-primary: #22c55e;
  --ion-tab-bar-background: rgba(0, 26, 10, 0.95);
  --ion-tab-bar-color-selected: #22c55e;

  --app-preview-background: rgba(34, 197, 94, 0.15);
  --app-button-background: #22c55e;
  --app-button-selected: #22c55e;

  /* Generator trait card background - green theme (premium green gradient) */
  --generator-trait-card-bg: linear-gradient(145deg, rgba(34, 197, 94, 0.25) 0%, rgba(74, 222, 128, 0.15) 50%, rgba(22, 163, 74, 0.1) 100%);
  --generator-trait-card-border: rgba(34, 197, 94, 0.35);
  --generator-trait-card-image-bg: linear-gradient(145deg, #0d4a25 0%, #0a3d1e 50%, #082d16 100%);

  --heatmap-card-bg: rgba(34, 197, 94, 0.08);
  --heatmap-cell-rgb: 34, 197, 94;
}

/* ============================================================
   UTILITY CLASSES
   ============================================================ */

/* Glassmorphism presets */
.glass {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(var(--blur-md)) saturate(180%);
  -webkit-backdrop-filter: blur(var(--blur-md)) saturate(180%);
  border: 1px solid var(--color-border-subtle);
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(var(--blur-sm)) saturate(150%);
  -webkit-backdrop-filter: blur(var(--blur-sm)) saturate(150%);
  border: 1px solid var(--color-border-subtle);
}

.glass-dark {
  background: var(--glass-bg-dark);
  backdrop-filter: blur(var(--blur-lg)) saturate(180%);
  -webkit-backdrop-filter: blur(var(--blur-lg)) saturate(180%);
  border: 1px solid var(--color-border-default);
}

.glass-orange {
  background: linear-gradient(
    135deg,
    var(--glass-bg-orange),
    var(--glass-bg-dark)
  );
  backdrop-filter: blur(var(--blur-md));
  -webkit-backdrop-filter: blur(var(--blur-md));
  border: 1px solid var(--color-border-orange);
}

/* Glow utilities */
.glow-orange {
  box-shadow: var(--glow-orange);
}

.glow-orange-lg {
  box-shadow: var(--glow-orange-lg);
}

.glow-gold {
  box-shadow: var(--glow-gold-md);
}

.glow-success {
  box-shadow: var(--glow-success);
}

.glow-error {
  box-shadow: var(--glow-error);
}

/* Text with glow */
.text-glow {
  text-shadow: var(--glow-text);
}

.text-glow-gold {
  text-shadow: 0 0 10px var(--color-gold-glow);
}

/* Shimmer animation for skeletons */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.shimmer {
  background: var(--gradient-shimmer);
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

/* Gold text gradient */
.text-gradient-gold {
  background: var(--gradient-gold-text);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: goldShimmer 3s ease infinite;
}

@keyframes goldShimmer {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* ============================================================
   ANIMATED BACKGROUND
   ============================================================ */

/* Ambient background with floating orbs */
.app-background {
  position: fixed;
  inset: 0;
  z-index: -1;
  background:
    /* Floating orange orb - bottom left */
    radial-gradient(
      ellipse 600px 600px at 20% 80%,
      rgba(249, 115, 22, 0.08) 0%,
      transparent 50%
    ),
    /* Floating purple orb - top right */
    radial-gradient(
      ellipse 400px 400px at 80% 20%,
      rgba(124, 58, 237, 0.06) 0%,
      transparent 50%
    ),
    /* Floating orange orb - center */
    radial-gradient(
      ellipse 500px 500px at 60% 60%,
      rgba(249, 115, 22, 0.04) 0%,
      transparent 50%
    ),
    /* Base gradient */
    linear-gradient(180deg, var(--color-bg-primary) 0%, var(--color-bg-secondary) 50%, var(--color-bg-primary) 100%);
  animation: backgroundPulse 20s ease-in-out infinite;
}

@keyframes backgroundPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.95; }
}

/* Subtle noise/grain texture overlay */
.noise-overlay {
  position: fixed;
  inset: 0;
  z-index: 9998;
  pointer-events: none;
  opacity: 0.025;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
}

/* ============================================================
   CARD EFFECTS
   ============================================================ */

/* Universal card hover - applies to all cards */
.card,
[class*="card"]:not(.no-hover) {
  transition:
    transform var(--duration-normal) var(--ease-out),
    box-shadow var(--duration-normal) ease,
    border-color var(--duration-normal) ease;
}

.card:hover,
[class*="card"]:not(.no-hover):hover {
  transform: translateY(-4px);
}

/* ============================================================
   BUTTON MICRO-INTERACTIONS
   ============================================================ */

/* Base button transitions */
button,
.btn,
[class*="btn"]:not(.no-transition) {
  transition:
    transform var(--duration-fast) ease,
    box-shadow var(--duration-normal) ease,
    background var(--duration-normal) ease,
    border-color var(--duration-normal) ease;
}

/* Active/Press state */
button:active:not(:disabled),
.btn:active:not(:disabled) {
  transform: scale(0.97);
}

/* Primary button glow on hover */
.btn-primary:hover:not(:disabled),
button[class*="primary"]:hover:not(:disabled) {
  box-shadow:
    0 4px 15px rgba(249, 115, 22, 0.4),
    0 0 30px rgba(249, 115, 22, 0.2);
}

/* Ripple animation (for JS ripple effect) */
@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}

/* ============================================================
   LOADING STATES
   ============================================================ */

/* Skeleton shimmer - updated version */
.skeleton {
  background: var(--gradient-shimmer);
  background-size: 200% 100%;
  animation: skeletonShimmer 1.5s ease-in-out infinite;
  border-radius: var(--radius-sm);
}

@keyframes skeletonShimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Loading spinner */
.spinner {
  width: 40px;
  height: 40px;
  border: 3px solid rgba(249, 115, 22, 0.2);
  border-top-color: var(--color-orange-500);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

.spinner-sm {
  width: 20px;
  height: 20px;
  border-width: 2px;
}

.spinner-lg {
  width: 60px;
  height: 60px;
  border-width: 4px;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Pulsing loader */
.pulse-loader {
  width: 12px;
  height: 12px;
  background: var(--color-orange-500);
  border-radius: 50%;
  animation: pulseLoader 1s ease-in-out infinite;
}

@keyframes pulseLoader {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.5);
    opacity: 0.5;
  }
}

/* Three dot loader */
.dot-loader {
  display: flex;
  gap: 4px;
}

.dot-loader span {
  width: 8px;
  height: 8px;
  background: var(--color-orange-500);
  border-radius: 50%;
  animation: dotPulse 1.4s ease-in-out infinite;
}

.dot-loader span:nth-child(2) { animation-delay: 0.2s; }
.dot-loader span:nth-child(3) { animation-delay: 0.4s; }

@keyframes dotPulse {
  0%, 80%, 100% {
    transform: scale(0.6);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}

/* ============================================================
   TOAST NOTIFICATIONS
   ============================================================ */

.toast {
  background: linear-gradient(135deg, var(--color-bg-secondary), var(--color-bg-elevated));
  border: 1px solid var(--color-border-orange);
  border-radius: var(--radius-lg);
  padding: 16px 20px;
  box-shadow:
    0 10px 30px rgba(0, 0, 0, 0.4),
    0 0 20px rgba(249, 115, 22, 0.2);
}

.toast.toast-success {
  border-color: rgba(34, 197, 94, 0.4);
  box-shadow:
    0 10px 30px rgba(0, 0, 0, 0.4),
    0 0 20px rgba(34, 197, 94, 0.2);
}

.toast.toast-error {
  border-color: rgba(239, 68, 68, 0.4);
  box-shadow:
    0 10px 30px rgba(0, 0, 0, 0.4),
    0 0 20px rgba(239, 68, 68, 0.2);
}

.toast.toast-warning {
  border-color: rgba(245, 158, 11, 0.4);
  box-shadow:
    0 10px 30px rgba(0, 0, 0, 0.4),
    0 0 20px rgba(245, 158, 11, 0.2);
}

/* ============================================================
   FOCUS STATES (Accessibility)
   ============================================================ */

/* Custom focus ring */
:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px var(--color-bg-primary),
    0 0 0 4px rgba(249, 115, 22, 0.6);
}

/* Enhanced focus for interactive elements */
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[tabindex]:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px var(--color-bg-primary),
    0 0 0 4px rgba(249, 115, 22, 0.6),
    0 0 20px rgba(249, 115, 22, 0.3);
}

/* Skip focus styles for mouse users */
:focus:not(:focus-visible) {
  outline: none;
  box-shadow: none;
}

/* ============================================================
   REDUCED MOTION SUPPORT
   ============================================================ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .app-background {
    animation: none;
  }

  .shimmer,
  .skeleton {
    animation: none;
    background: var(--color-bg-card);
  }

  .spinner,
  .pulse-loader,
  .dot-loader span {
    animation: none;
  }
}

/* ============================================================
   SELECTION STYLES
   ============================================================ */

::selection {
  background: rgba(249, 115, 22, 0.3);
  color: var(--color-text-primary);
}

::-moz-selection {
  background: rgba(249, 115, 22, 0.3);
  color: var(--color-text-primary);
}

/* ============================================================
   SCROLLBAR STYLES
   ============================================================ */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-bg-primary);
}

::-webkit-scrollbar-thumb {
  background: var(--color-border-default);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-border-strong);
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--color-border-default) var(--color-bg-primary);
}

/* ============================================
   BigPulp Featured Navigation Item
   ============================================ */

/* Sidebar featured item pulsing glow */
.nav-item-featured {
  position: relative;
}

.nav-item-featured::before {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: 14px;
  background: linear-gradient(135deg, #F97316, #FFD700);
  opacity: 0;
  z-index: -1;
  animation: bigpulpGlow 3s ease-in-out infinite;
}

@keyframes bigpulpGlow {
  0%, 100% { opacity: 0; }
  50% { opacity: 0.3; }
}

/* Reduced motion: disable glow animation */
@media (prefers-reduced-motion: reduce) {
  .nav-item-featured::before {
    animation: none;
    opacity: 0.15;
  }
}
